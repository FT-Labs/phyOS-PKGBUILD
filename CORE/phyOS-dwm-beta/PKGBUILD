# Maintainer: Arda Atci<arda@ftlabs.tech>
pkgname=phyOS-dwm-beta
_pkgname=phyOS-dwm
pkgver=1.2.5_beta
_branch=feature/dynamiclibsettings
pkgrel=02
pkgdesc="dwm build for phyOS"
arch=(x86_64)
url="https://github.com/FT-Labs/phyOS-dwm/"
license=('MIT')
depends=('libxcb' 'libxft-bgra' 'imlib2' 'libconfig' 'phyOS-system-scripts' 'phyOS-sysconf' 'inotify-tools')
makedepends=('git' 'make')
optdepends=('fonts-phyOS' 'dmenu-phyOS' 'st-phyOS' 'phyOS-picom' 'pdwm')
provides=("dwm" "dwmblocks")
conflicts=("dwm" "dwmblocks" "phyOS-dwm")
options=('zipman')

prepare() {
  git clone $url --depth 1 -b $_branch
}

build() {
	cd "$_pkgname"
	make
}

package() {
    cd "$_pkgname"

	make PREFIX=/usr DESTDIR="$pkgdir/" install
    mkdir -p "${pkgdir}/etc/xdg"
    cp -rf pdwm "${pkgdir}/etc/xdg/"
}
